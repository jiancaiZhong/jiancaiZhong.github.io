--- 
layout: mypost 
title: 留言板 
---
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>留言板</title>
<link rel="stylesheet" type="text/css" href="chat.css">
<!-- Valine 评论 -->
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<!-- cave-draw 插画 -->
<script src="https://cdn.jsdelivr.net/gh/flatblowfish/cave-draw/dist/cave-draw.min.js"></script>
</head>
<body>
	<div id="vcomments"></div>
	<script>
		new Valine({
			el : '#vcomments',
			appId : 'swdkdsIhAyos0zjEINZvVnOT-gzGzoHsz',
			appKey : 'Cd8Jlh32ytH18Kr8HvjC0GMl',
			lang : 'zh-CN',
			placeholder : '请输入您的留言，我会认真对待每一条留言的。',
			avatar : 'hide',
			meta : [ 'nick', 'mail' ],
			pageSize : 10,
			visitor : true,
			highlight : true,
			requiredFields : [ 'nick', 'mail' ]
		})
		
		var cdraw = new CaveDraw({
		    element: "#veditor",
		    readOnlyMode: false, // valine 不提交form，而是过滤评论框数据后发送，所以评论框不能readonly。
		    afterUpdateEditor: ()=>{ // 手动触发valine对评论框数据的过滤
		        document.querySelector('#veditor').focus();
		        document.querySelector('#veditor').blur();
		    },
		    controls: ['brush', 'eraser', 'bucket', 'clear', 'undo', 'redo', 'save']
		});
	</script>
</body>
</html>